{
  "version": "1.0.0",
  "description": "Code patterns for detecting model loading across frameworks",
  "patterns": {
    "huggingface": [
      {
        "name": "transformers_from_pretrained",
        "pattern": "(?:AutoModel|AutoTokenizer|AutoProcessor|AutoFeatureExtractor|AutoConfig|pipeline)\\s*\\.?\\s*from_pretrained\\s*\\(\\s*[\"']([^\"']+)[\"']",
        "extract_group": 1,
        "description": "HuggingFace Transformers from_pretrained"
      },
      {
        "name": "generic_from_pretrained",
        "pattern": "from_pretrained\\s*\\(\\s*[\"']([^\"']+)[\"']",
        "extract_group": 1,
        "description": "Generic from_pretrained call"
      },
      {
        "name": "hf_hub_download",
        "pattern": "hf_hub_download\\s*\\([^)]*repo_id\\s*=\\s*[\"']([^\"']+)[\"']",
        "extract_group": 1,
        "description": "HuggingFace Hub download"
      },
      {
        "name": "sentence_transformer",
        "pattern": "SentenceTransformer\\s*\\(\\s*[\"']([^\"']+)[\"']",
        "extract_group": 1,
        "description": "Sentence Transformers model"
      },
      {
        "name": "vllm",
        "pattern": "LLM\\s*\\(\\s*(?:model\\s*=\\s*)?[\"']([^\"']+)[\"']",
        "extract_group": 1,
        "description": "vLLM model loading"
      },
      {
        "name": "tgi",
        "pattern": "--model-id\\s+[\"']?([^\\s\"']+)",
        "extract_group": 1,
        "description": "text-generation-inference model"
      }
    ],
    "pytorch_hub": [
      {
        "name": "torch_hub_load",
        "pattern": "torch\\.hub\\.load\\s*\\(\\s*[\"']([^\"']+)[\"']\\s*,\\s*[\"']([^\"']+)[\"']",
        "extract_groups": [1, 2],
        "join_with": "/",
        "description": "PyTorch Hub load"
      }
    ],
    "tensorflow_hub": [
      {
        "name": "hub_keras_layer",
        "pattern": "hub\\.(?:KerasLayer|load)\\s*\\(\\s*[\"']([^\"']+)[\"']",
        "extract_group": 1,
        "description": "TensorFlow Hub load"
      },
      {
        "name": "tfhub_url",
        "pattern": "[\"'](https?://tfhub\\.dev/[^\"']+)[\"']",
        "extract_group": 1,
        "description": "TensorFlow Hub URL"
      }
    ],
    "replicate": [
      {
        "name": "replicate_run",
        "pattern": "replicate\\.run\\s*\\(\\s*[\"']([^\"']+)[\"']",
        "extract_group": 1,
        "description": "Replicate run"
      },
      {
        "name": "replicate_client",
        "pattern": "Replicate\\s*\\([^)]*\\)\\.run\\s*\\(\\s*[\"']([^\"']+)[\"']",
        "extract_group": 1,
        "description": "Replicate client run"
      }
    ],
    "wandb": [
      {
        "name": "wandb_use_artifact",
        "pattern": "wandb\\.use_artifact\\s*\\(\\s*[\"']([^\"']+)[\"']",
        "extract_group": 1,
        "description": "W&B use artifact"
      },
      {
        "name": "wandb_api_artifact",
        "pattern": "wandb\\.Api\\s*\\([^)]*\\)\\.artifact\\s*\\(\\s*[\"']([^\"']+)[\"']",
        "extract_group": 1,
        "description": "W&B API artifact"
      }
    ],
    "mlflow": [
      {
        "name": "mlflow_load_model",
        "pattern": "mlflow\\.(?:pyfunc|sklearn|pytorch|tensorflow|keras)\\.load_model\\s*\\(\\s*[\"']([^\"']+)[\"']",
        "extract_group": 1,
        "description": "MLflow load model"
      },
      {
        "name": "mlflow_models_uri",
        "pattern": "[\"'](models:/[^\"']+)[\"']",
        "extract_group": 1,
        "description": "MLflow models URI"
      },
      {
        "name": "mlflow_runs_uri",
        "pattern": "[\"'](runs:/[^\"']+)[\"']",
        "extract_group": 1,
        "description": "MLflow runs URI"
      }
    ],
    "kaggle": [
      {
        "name": "kaggle_model_get",
        "pattern": "kaggle\\.api\\.model_get\\s*\\([^)]*model\\s*=\\s*[\"']([^\"']+)[\"']",
        "extract_group": 1,
        "description": "Kaggle model get"
      },
      {
        "name": "kagglehub_download",
        "pattern": "kagglehub\\.model_download\\s*\\(\\s*[\"']([^\"']+)[\"']",
        "extract_group": 1,
        "description": "Kaggle Hub download"
      }
    ],
    "civitai": [
      {
        "name": "civitai_url",
        "pattern": "[\"'](https?://civitai\\.com/(?:api/download/)?models/[^\"']+)[\"']",
        "extract_group": 1,
        "description": "Civitai model URL"
      }
    ],
    "nvidia_ngc": [
      {
        "name": "nvcr_container",
        "pattern": "[\"'](nvcr\\.io/[^\"']+)[\"']",
        "extract_group": 1,
        "description": "NGC container reference"
      },
      {
        "name": "ngc_cli",
        "pattern": "ngc\\s+(?:registry\\s+)?model\\s+download[^\"']*[\"']([^\"']+)[\"']",
        "extract_group": 1,
        "description": "NGC CLI download"
      }
    ],
    "aws_jumpstart": [
      {
        "name": "jumpstart_model",
        "pattern": "JumpStartModel\\s*\\(\\s*model_id\\s*=\\s*[\"']([^\"']+)[\"']",
        "extract_group": 1,
        "description": "SageMaker JumpStart model"
      },
      {
        "name": "sagemaker_model_uris",
        "pattern": "sagemaker\\.(?:model_uris|image_uris)\\.[^(]+\\([^)]*model_id\\s*=\\s*[\"']([^\"']+)[\"']",
        "extract_group": 1,
        "description": "SageMaker model URIs"
      }
    ],
    "azure_ml": [
      {
        "name": "azure_model",
        "pattern": "Model\\s*\\([^)]*name\\s*=\\s*[\"']([^\"']+)[\"'][^)]*workspace",
        "extract_group": 1,
        "description": "Azure ML model"
      },
      {
        "name": "azureml_registry",
        "pattern": "azureml://registries/[^/]+/models/([^/\"']+)",
        "extract_group": 1,
        "description": "Azure ML registry"
      }
    ],
    "ollama": [
      {
        "name": "ollama_api",
        "pattern": "ollama\\.(?:chat|generate|embeddings)\\s*\\([^)]*model\\s*=\\s*[\"']([^\"']+)[\"']",
        "extract_group": 1,
        "description": "Ollama API call"
      }
    ],
    "roboflow": [
      {
        "name": "roboflow_model",
        "pattern": "roboflow\\.Roboflow\\s*\\([^)]*\\)\\.workspace\\([^)]*\\)\\.project\\([^)]*[\"']([^\"']+)[\"']",
        "extract_group": 1,
        "description": "Roboflow project"
      },
      {
        "name": "roboflow_inference",
        "pattern": "inference\\.get_model\\s*\\([^)]*model_id\\s*=\\s*[\"']([^\"']+)[\"']",
        "extract_group": 1,
        "description": "Roboflow inference"
      }
    ]
  }
}
